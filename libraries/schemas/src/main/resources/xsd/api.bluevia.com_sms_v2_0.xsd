<?xml version="1.0" encoding="UTF-8"?>
<!-- July 17, 2012 -->
<xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema" 
			xmlns:tns="http://api.bluevia.com/schemas/sms/v2" 
			xmlns:com="http://api.bluevia.com/schemas/common/v2"
			targetNamespace="http://api.bluevia.com/schemas/sms/v2" 
			elementFormDefault="qualified" attributeFormDefault="unqualified">
	
	<xsd:import namespace="http://api.bluevia.com/schemas/common/v2" schemaLocation="api.bluevia.com_common_v2_0.xsd"/>



<xsd:annotation>
	<xsd:documentation>The following are the resources to be included in HTTP requests or responses</xsd:documentation>
</xsd:annotation>		

<!-- SMS OUTBOUND LOGIC -->
	<!-- POST /smsOutbound.xml -->
	<xsd:element name="smsOutboundRequest" type="tns:SmsOutboundRequestType"/>

	<!-- Response to POST /smsOutbound.xml (only id is returned) -->
	<!-- Response to GET /smsOutbound/id.xml -->
	<xsd:element name="smsOutbound" type="tns:SmsOutboundType"/>

	<!-- Response to GET /smsOutbound.xml-->
	<xsd:element name="smsOutboundList" type="tns:SmsOutboundListType"/>
	
	<!-- Service callback: POST callbackURL -->
	<xsd:element name="deliveryStatus" type="tns:DeliveryStatusNotificationType"/>


<!-- SMS INBOUND LOGIC --> 
	<!-- Not implemented: Response to GET /smsInbound/id.xml -->
	<!-- Service notification: POST preProvisionedAppURL -->
	<xsd:element name="smsInbound" type="tns:SmsInboundType"/>
	
	<!-- Response to GET /smsInbound.xml -->
	<xsd:element name="smsInboundList" type="tns:SmsInboundListType"/>





<xsd:annotation>
	<xsd:documentation>The following are the types defined for each used resource</xsd:documentation>
</xsd:annotation>	


	<xsd:complexType name="SmsOutboundRequestType">
        <xsd:sequence>
             <xsd:element name="from" type="xsd:anyURI" minOccurs="0"/>
             <xsd:element name="to" type="xsd:anyURI" maxOccurs="unbounded"/>
			 <xsd:element name="message" type="xsd:string"/>
			 <xsd:element name="callbackUrl" type="xsd:anyURI" minOccurs="0"/>
			
        </xsd:sequence>            
    </xsd:complexType>
    
    <xsd:complexType name="SmsOutboundType">
        <xsd:sequence>
            <xsd:element name="id" type="xsd:string"/>
            <xsd:element name="from" type="xsd:anyURI" minOccurs="0"/>
            <xsd:element name="destination" type="tns:DestinationsInfoType" minOccurs="0" maxOccurs="unbounded"/>
			<xsd:element name="message" type="xsd:string" minOccurs="0"/>
			<xsd:element name="timestamp" type="xsd:dateTime" minOccurs="0"/> 		 
        </xsd:sequence>            
    </xsd:complexType>    
    
    <xsd:complexType name="SmsOutboundListType">
        <xsd:sequence>
            <xsd:element name="smsOutbound" type="tns:SmsOutboundType" minOccurs="0" maxOccurs="unbounded"/> 		 
        </xsd:sequence>            
    </xsd:complexType>
    
    <xsd:complexType name="DeliveryStatusNotificationType">
        <xsd:sequence>
        	<xsd:element name="to" type="xsd:string"/>
            <xsd:element name="address" type="xsd:anyURI"/>
            <xsd:element name="status" type="xsd:string"/>
        </xsd:sequence>            
    </xsd:complexType>
    
    <xsd:complexType name="SmsInboundType">
        <xsd:sequence>
            <xsd:element name="id" type="xsd:string"/>
            <xsd:element name="from" type="xsd:anyURI" minOccurs="0"/>
            <xsd:element name="to" type="xsd:anyURI" minOccurs="0"/>
			<xsd:element name="message" type="xsd:string" minOccurs="0"/> 
			<xsd:element name="timestamp" type="xsd:dateTime" minOccurs="0"/>		 
        </xsd:sequence>            
    </xsd:complexType>
        
    <xsd:complexType name="SmsInboundListType">
        <xsd:sequence>
            <xsd:element name="smsInbound" type="tns:SmsInboundType" minOccurs="0" maxOccurs="unbounded"/>
        </xsd:sequence>            
    </xsd:complexType>   
    

    <xsd:annotation>
		<xsd:documentation>The following are the rest of types used in the API</xsd:documentation>
	</xsd:annotation>
    
     <!-- Check specification to find possible delivery status values -->
       <xsd:complexType name="DestinationsInfoType">
        <xsd:sequence>
            <xsd:element name="to" type="xsd:anyURI"/>
            <xsd:element name="status" type="xsd:string"/>	 
        </xsd:sequence> 
        </xsd:complexType>    
    
</xsd:schema>